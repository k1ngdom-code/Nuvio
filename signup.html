<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Signup</title>
    <link rel="stylesheet" href="signup.css">

    <link
        href="https://fonts.googleapis.com/css2?family=Audiowide&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Manrope:wght@200..800&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Tourney:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=account_circle" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=chevron_left" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=lock" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=visibility" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=check_circle" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=cancel" />



    
</head>

<body>
    <nav>
        <div class="logo">
            <p>Nuvio</p>
        </div>

        <button id="getstarted" onclick="window.location.href='signup.html'">Get Started</button>
    </nav>

    <div class="box">
        <div class="signup-container">
            <h3>Create Account</span></h3>
            <p class="start">Get started with Nuvio by signing up</p>

            <h3 class="steps">Step 1</h3>

            <label for="signup-email">Email Address </label>
            <input type="text" id="signup-email" placeholder="test@gmail.com">
            <label for="username" class="usernm">Username</label>
            <input type="text" id="username" placeholder="test">
            <label for="signup-password" class="psw">Password</label>
            <input type="text" id="signup-password" placeholder="Create password"><br>



            <h3 class="steps" id="step2">Step 2</h3>

            <img src="user.png" width="65px" id="profilepicPreview">
            <p>Please select a profile picture</p>
            <input type="file" id="profilepic" accept="image/*" style="display:none;">
            <label for="profilepic" id="edit"><img src="pen.png" width="20px"></label>

            <label for="dateofbirth" style="display:none">Date of birth</label>
            <input type="date" id="dateofbirth" style="display:none">
            <input type="text" id="town" placeholder="Town/City">
            <input type="number" id="phone" placeholder="Phone number">

            <p id="successful-su" style="display:none">Account created!!</p>
            <button id="signup">Sign Up</button>


            <p class="already">Already have an account? <a href="signin.html">Login </a></p>

        </div>
    </div>



    <script type="module">
        import { signUpUser } from './auth.js'


        const signupButton = document.getElementById("signup")

        signupButton.addEventListener("click", () => {
            const email = document.getElementById("signup-email").value.trim()
            const password = document.getElementById("signup-password").value.trim()
            const username = document.getElementById("username").value.trim()
            const dob = document.getElementById("dateofbirth").value.trim()
            const phoneno = document.getElementById("phone").value.trim()
            const city = document.getElementById("town").value.trim()
            const profilepicimage = localStorage.getItem("profilepicimage")


     signUpUser(username,dob, profilepicimage, city, phoneno, email, password)
            localStorage.setItem("username", username)
       

            })

    </script>

    <script>


        const signupPassword = document.getElementById("signup-password")

        signupPassword.addEventListener("input", () => {
            if (signupPassword.value.length < 10) {
                signupPassword.style.borderColor = "red"
            }
            else {
                signupPassword.style.borderColor = "green"
            }
        })  

        let imagesrc =""
const profilepicPreview = document.getElementById("profilepicPreview")
const imageSelector= document.getElementById("profilepic")

imageSelector.addEventListener("change", function(){
    const file= imageSelector.files[0]
    if(file){
        const reader= new FileReader()
        reader.onload = e => {
            imagesrc = e.target.result
            profilepicPreview.src= imagesrc
            profilepicPreview.style.display="block"
               localStorage.setItem("profilepic", imagesrc)
              }
        reader.readAsDataURL(file)
    
       
    }else{
        profilepicPreview.src="spider-man-across.jpg"
    }
})

    </script>
</body>

</html>




